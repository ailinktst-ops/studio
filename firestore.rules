/**
 * FIRESTORE SECURITY RULES
 *
 * Core Philosophy:
 * This ruleset implements an open-access model for the prototype.
 * Given the nature of a real-time counter/ranking system where any participant
 * or administrator needs to sync state instantly, we allow public read/write
 * for the 'counters' collection.
 */

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // --- Collection Rules ---

    /**
     * @description Rules for the Counter collection. 
     * Open for read and write to ensure no blocking during the prototype/event.
     */
    match /counters/{counterId} {
      allow read, write: if true;

      /**
       * @description Rules for participants within a specific counter.
       */
      match /participants/{participantId} {
        allow read, write: if true;
      }
    }

  }
}